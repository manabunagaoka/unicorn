-- Check what companies exist in database
SELECT 
  id,
  startup_name,
  ticker,
  status,
  CASE 
    WHEN id = '00000000-0000-0000-0000-000000000001'::uuid THEN 1
    WHEN id = '00000000-0000-0000-0000-000000000002'::uuid THEN 2
    WHEN id = '00000000-0000-0000-0000-000000000003'::uuid THEN 3
    WHEN id = '00000000-0000-0000-0000-000000000004'::uuid THEN 4
    WHEN id = '00000000-0000-0000-0000-000000000005'::uuid THEN 5
    WHEN id = '00000000-0000-0000-0000-000000000006'::uuid THEN 6
    WHEN id = '00000000-0000-0000-0000-000000000007'::uuid THEN 7
    WHEN id = '00000000-0000-0000-0000-000000000008'::uuid THEN 8
    WHEN id = '00000000-0000-0000-0000-000000000009'::uuid THEN 9
    WHEN id = '00000000-0000-0000-0000-000000000010'::uuid THEN 10
    WHEN id = '00000000-0000-0000-0000-000000000011'::uuid THEN 11
    WHEN id = '00000000-0000-0000-0000-000000000012'::uuid THEN 12
    WHEN id = '00000000-0000-0000-0000-000000000013'::uuid THEN 13
    WHEN id = '00000000-0000-0000-0000-000000000014'::uuid THEN 14
  END as pitch_id
FROM student_projects
WHERE ticker IS NOT NULL
ORDER BY ticker;

-- Check if RDDT still exists (it should have been deleted!)
SELECT * FROM student_projects WHERE ticker = 'RDDT';

-- Check your current investments
SELECT 
  ui.*,
  sp.startup_name,
  sp.ticker
FROM user_investments ui
LEFT JOIN student_projects sp ON (
  CASE 
    WHEN sp.id = '00000000-0000-0000-0000-000000000001'::uuid THEN 1
    WHEN sp.id = '00000000-0000-0000-0000-000000000002'::uuid THEN 2
    WHEN sp.id = '00000000-0000-0000-0000-000000000003'::uuid THEN 3
    WHEN sp.id = '00000000-0000-0000-0000-000000000004'::uuid THEN 4
    WHEN sp.id = '00000000-0000-0000-0000-000000000005'::uuid THEN 5
    WHEN sp.id = '00000000-0000-0000-0000-000000000006'::uuid THEN 6
    WHEN sp.id = '00000000-0000-0000-0000-000000000007'::uuid THEN 7
    WHEN sp.id = '00000000-0000-0000-0000-000000000008'::uuid THEN 8
    WHEN sp.id = '00000000-0000-0000-0000-000000000009'::uuid THEN 9
    WHEN sp.id = '00000000-0000-0000-0000-000000000010'::uuid THEN 10
    WHEN sp.id = '00000000-0000-0000-0000-000000000011'::uuid THEN 11
    WHEN sp.id = '00000000-0000-0000-0000-000000000012'::uuid THEN 12
    WHEN sp.id = '00000000-0000-0000-0000-000000000013'::uuid THEN 13
    WHEN sp.id = '00000000-0000-0000-0000-000000000014'::uuid THEN 14
  END
) = ui.pitch_id
WHERE ui.shares_owned > 0
ORDER BY ui.pitch_id;
